{% extends 'base.html.twig' %}

{% block body %}
  <el-dialog>
    <dialog id="sidebar" class="backdrop:bg-transparent lg:hidden">
      <el-dialog-backdrop class="backdrop"></el-dialog-backdrop>
      <div tabindex="0" class="fixed inset-0 flex focus:outline-none">
        <el-dialog-panel class="group/dialog-panel relative mr-16 flex w-full max-w-xs flex-1 transform transition duration-300 ease-in-out data-closed:-translate-x-full">
          <div class="absolute top-0 left-full flex w-16 justify-center pt-5 duration-300 ease-in-out group-data-closed/dialog-panel:opacity-0">
            <button type="button"
              command="close"
              commandfor="sidebar"
              class="btn-style-ghost btn-size-sm -m-2.5">
              <span class="sr-only">Close sidebar</span>
              <svg viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                data-slot="icon"
                aria-hidden="true"
                class="size-6">
                <path d="M6 18 18 6M6 6l12 12"
                  stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
          </div>

          {% include 'app-sidebar.html.twig' %}
        </el-dialog-panel>
      </div>
    </dialog>
  </el-dialog>

  <div class="hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col">
    {% include 'app-sidebar.html.twig' %}
  </div>

  <div class="lg:pl-72">
    <div class="bg-gray-50/30 z-50 lg:hidden backdrop-blur-2xl px-4 sm:px-8 lg:px-16 gap-x-2 border-b border-gray-200 h-14 sticky top-0 flex items-center">
      <button type="button"
        command="show-modal"
        commandfor="sidebar"
        class="inline-flex px-1.5 py-1.5 -ml-1.5 lg:hidden items-center justify-center text-sm/6 font-medium text-gray-600 rounded-md hover:bg-gray-950/5 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
        <svg xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 16 16"
          fill="currentColor"
          class="size-4">
          <path fill-rule="evenodd"
            d="M2 4.75A.75.75 0 0 1 2.75 4h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75Zm0 6.5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"
            clip-rule="evenodd" />
        </svg>

        <div class="sr-only">
          Open Menu
        </div>
      </button>

      <el-dropdown class="dropdown ml-auto">
        <button class="flex items-center gap-x-4 px-2 py-0.5 text-sm font-medium text-gray-900 hover:bg-gray-950/7.5 rounded focusable -mr-2">
          <span>
            {{ app.user.firstName|default('User') }}
            {{ app.user.lastName|default('') }}
          </span>
          <img src="https://ui-avatars.com/api/?name={{ app.user.firstName|default(
              'U'
            ) }}+{{ app.user.lastName|default(
              'ser'
            ) }}&background=4f46e5&color=fff"
            alt="{{ app.user.firstName|default('User') }}"
            class="size-8 rounded-full bg-gray-50" />
        </button>
        <el-menu anchor="top start" popover class="dropdown-menu">
          <form id="logout-form-sidebar"
            action="{{ path('app_logout') }}"
            method="post">
            <button type="submit" class="dropdown-item-destructive">
              Logout
            </button>
          </form>
        </el-menu>
      </el-dropdown>
    </div>
    <main class="py-10 lg:py-14">
      <div class="px-4 sm:px-8 lg:px-16">
        {% block content %}

        {% endblock %}
      </div>
    </main>
  </div>
{% endblock %}
